let Eminescu = [

//Luceafarul
[
  //easy array
  [{
    versuri: "Nu caut vorbe pe ........, </br>Nici știu cum aș începe -</br>Deși vorbești pe înțeles,</br>Eu nu te pot pricepe;</br>",
    raspuns: ["ales"],
    r: "Nu caut vorbe pe <b>ales</b>, </br>Nici știu cum aș începe -</br>Deși vorbești pe înțeles,</br>Eu nu te pot pricepe;</br>"
  },

  {
    versuri: "Privea în zare cum pe mări<br>Răsare și străluce,<br>Pe mișcătoarele ........<br>Corăbii negre duce.<br>",
    raspuns: ["cărări"],
    r: "Privea în zare cum pe mări<br>Răsare și străluce,<br>Pe mișcătoarele <b>cărări</b><br>Corăbii negre duce.<br>"
  },
  
  {
    versuri: "Cum ea pe coate-și răzima<br>Visând ale ei tâmple<br>De ........ lui și inima<br>Și sufletu-i se împle.<br>",
    raspuns: ["dorul"],
    r: "Cum ea pe coate-și răzima<br>Visând ale ei tâmple<br>De <b>dorul</b> lui și inima<br>Și sufletu-i se împle.<br>"
  },

  {
    versuri: "Ea îl privea cu un surâs,<br>El ........-n oglindă,<br>Căci o urma adânc în vis<br>De suflet să se prindă<br>",
    raspuns: ["tremura"],
    r: "Ea îl privea cu un surâs,<br>El <b>tremura</b>-n oglindă,<br>Căci o urma adânc în vis<br>De suflet să se prindă<br>"
  },

  {
    versuri: "Și pas cu pas pe urma ei<br>Alunecă-n odaie,<br>Țesând cu recile-i scântei<br>O ........ de văpaie.<br>",
    raspuns: ["mreajă"],
    r: "Și pas cu pas pe urma ei<br>Alunecă-n odaie,<br>Țesând cu recile-i scântei<br>O <b>mreajă</b> de văpaie.<br>"
  },
  ],

  //medium array
  [{
    versuri: "Nu caut vorbe pe ........, </br>Nici știu cum aș ........ -</br>Deși vorbești pe înțeles,</br>Eu nu te pot pricepe;</br>",
    raspuns: ["ales", "începe"],
    r: "Nu caut vorbe pe <b>ales</b>, </br>Nici știu cum aș <b>începe</b> -</br>Deși vorbești pe înțeles,</br>Eu nu te pot pricepe;</br>"
  },
  {
    versuri: "Privea în zare cum pe mări<br>Răsare și străluce,<br>Pe mișcătoarele ........<br>........negre duce.<br>",
    raspuns: ["cărări", "corăbii"],
    r: "Privea în zare cum pe mări<br>Răsare și străluce,<br>Pe mișcătoarele <b>cărări</b><br><b>Corăbii</b> negre duce.<br>"
  },
  {
    versuri: "Cum ea pe coate-și răzima<br>Visând ale ei tâmple<br>De ........ lui și ........<br>Și sufletu-i se împle.<br>",
    raspuns: ["dorul", "inima"],
    r: "Cum ea pe coate-și răzima<br>Visând ale ei tâmple<br>De <b>dorul</b> lui și <b>inima</b><br>Și sufletu-i se împle.<br>"
  },

  {
    versuri: "Și pas cu pas pe urma ei<br>Alunecă-n odaie,<br>........ cu recile-i scântei<br>O ........ de văpaie.<br>",
    raspuns: ["Țesând", "mreajă"],
    r: "Și pas cu pas pe urma ei<br>Alunecă-n odaie,<br><b>Țesând</b> cu recile-i scântei<br>O <b>mreajă</b> de văpaie.<br>"
  },
  {
    versuri: "Ea îl privea cu un surâs,<br>El ........-n oglindă,<br>Căci o urma ........ în vis<br>De suflet să se prindă<br>",
    raspuns: ["tremura", "adânc"],
    r: "Ea îl privea cu un surâs,<br>El <b>tremura</b>-n oglindă,<br>Căci o urma <b>adânc</b> în vis<br>De suflet să se prindă<br>"
  },

  ],

  //hard array
  [{
    versuri: "Nu caut vorbe pe ........, </br>Nici știu cum aș ........ -</br>Deși vorbești pe ........,</br>Eu nu te pot pricepe;</br>",
    raspuns: ["ales", "începe", "înțeles"],
    r: "Nu caut vorbe pe <b>ales</b>, </br>Nici știu cum aș <b>începe</b> -</br>Deși vorbești pe <b>înțeles</b>,</br>Eu nu te pot pricepe;</br>"
  },
  {
    versuri: "Privea în zare cum pe mări<br>........ și străluce,<br>Pe mișcătoarele ........<br>........negre duce.<br>",
    raspuns: ["Răsare", "cărări", "Corăbii"],
    r: "Privea în zare cum pe mări<br><b>Răsare</b> și străluce,<br>Pe mișcătoarele <b>cărări</b><br><b>Corăbii</b> negre duce.<br>"
  },
  {
    versuri: "Cum ea pe ........-și răzima<br>Visând ale ei tâmple<br>De ........ lui și ........<br>Și sufletu-i se împle.<br>",
    raspuns: ["coate","dorul", "inima"],
    r: "Cum ea pe <b>coate</b>-și răzima<br>Visând ale ei tâmple<br>De <b>dorul</b> lui și <b>inima</b><br>Și sufletu-i se împle.<br>"
  },

  {
    versuri: "Și pas cu pas pe urma ei<br>Alunecă-n odaie,<br>........ cu recile-i ........<br>O ........ de văpaie.<br>",
    raspuns: ["Țesând","scântei", "mreajă"],
    r: "Și pas cu pas pe urma ei<br>Alunecă-n odaie,<br><b>Țesând</b> cu recile-i <b>scântei</b><br>O <b>mreajă</b> de văpaie.<br>"
  },

  {
    versuri: "Ea îl privea cu un surâs,<br>El ........-n oglindă,<br>Căci o urma ........ în ........<br>De ........ să se prindă<br>",
    raspuns: ["tremura", "adânc", "vis", "suflet"],
    r: "Ea îl privea cu un surâs,<br>El <b>tremura</b>-n oglindă,<br>Căci o urma <b>adânc</b> în <b>vis</b><br>De <b>suflet</b> să se prindă<br>"
  },
  ],
],

//Floare Albastra
[
  ["FloareAlbastraEasy"],
  ["FloareAlbastraMedium"],
  ["FloareAlbastraHard"],
]

]

let Blaga = [
[
  ["CorolaEasy"],
  ["CorolaMedium"],
  ["CorolaHard"],
],


]

let autor;
let opera;
let grade;
let authorArray;
let operaIndex;

let randomNum;


function findAuthorArray(){
   if(autor === 'Eminescu')  authorArray = Eminescu;
   else if (autor==='Blaga') authorArray = Blaga;

   return authorArray;
   
}

function findOperaIndex(){
   if(authorArray===Eminescu)
   	{if(opera==="Luceafarul") operaIndex =0;
    else if(opera==="Floare-Albastra") operaIndex =1;}
   else if(authorArray===Blaga) {
   	if(opera==="Corola") operaIndex = 0;
   }
}

function operaFunction(autorP, operaP){
 
   document.getElementById('cont-opera').style.display="none";
   document.getElementById('cont-dif').style.display="flex";
   autor = autorP;
   console.log(autor);
   opera = operaP;
   console.log(opera);
   
}

function difficultyFunction(gradeP){
    document.getElementById('cont-dif').style.display="none";
    document.getElementById('cont-vers').style.display="flex";
    grade=gradeP;
    flow();

}

function inputText(){
	let arrLength = authorArray[operaIndex][grade][randomNum].raspuns.length;
	if(arrLength>1)
	{
	document.getElementsByClassName("raspuns")[0].placeholder="Raspunsul 1";
	for(let i=1;i<arrLength;i++){
    let clone = document.getElementsByClassName("raspuns")[i-1].cloneNode( true );
    let num = (i+1).toString();
    document.getElementById('raspunsuri').appendChild( clone );
    document.getElementsByClassName("raspuns")[i].placeholder="Raspunsul " + num;
    }
    }
}

function flow(){
	findAuthorArray();
	findOperaIndex();

	randomNum = Math.floor(Math.random() * authorArray[operaIndex][grade].length);
	document.getElementById("versuri").innerHTML = authorArray[operaIndex][grade][randomNum].versuri;
	inputText();



}

function diacritice(strAccents) {
		var strAccents = strAccents.split('');
		var strAccentsOut = new Array();
		var strAccentsLen = strAccents.length;
		var accents = 'ăâîșțÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž';
		var accentsOut = "aaistAAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz";
		for (var y = 0; y < strAccentsLen; y++) {
			if (accents.indexOf(strAccents[y]) != -1) {
				strAccentsOut[y] = accentsOut.substr(accents.indexOf(strAccents[y]), 1);
			} else
				strAccentsOut[y] = strAccents[y];
		}
		strAccentsOut = strAccentsOut.join('');
		return strAccentsOut;
	}

let ok = 0;

function verif(){
    let arrLength = authorArray[operaIndex][grade][randomNum].raspuns.length;
    for(let i=0;i<arrLength;i++){

    	let a;
    	a=document.getElementsByClassName("raspuns")[i].value;

    	a = a.toLowerCase();
		a = a.replace(/\s/g,'');
		a = a.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/\s{2,}/g," ");
		a = diacritice(a);

		let b;

		b=authorArray[operaIndex][grade][randomNum].raspuns[i];

		b = b.toLowerCase();
		b = b.replace(/\s/g,'');
		b = b.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/\s{2,}/g," ");
		b = diacritice(b);

    	if(a !== b) ok++;
        
  

    }

    if(ok===0) {
    	document.getElementById("cont-vers").style.display="none";
    	document.getElementById("good-ans").style.display="flex";
    }
    else {
        document.getElementById("cont-vers").style.display="none";
    	document.getElementById("wrong-ans").style.display="flex";
        document.getElementById("ans").innerHTML = authorArray[operaIndex][grade][randomNum].r;
    }

}

const removeElements = (elms) => elms.forEach(el => el.remove());

function newGame(){
	document.getElementsByClassName("raspuns")[0].value="";
	let clone = document.getElementsByClassName("raspuns")[0].cloneNode( true );

	removeElements( document.querySelectorAll(".raspuns") );
	    document.getElementById('raspunsuri').appendChild( clone );

	ok=0;
	document.getElementById("good-ans").style.display="none";
	document.getElementById("wrong-ans").style.display="none";
	let arrLength = authorArray[operaIndex][grade][randomNum].raspuns.length;
	flow();

	document.getElementById("cont-vers").style.display="flex";

}


